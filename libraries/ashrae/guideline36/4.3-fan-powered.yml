fan-powered-terminal-unit:
  body: >
    @prefix p: <urn:___param___#> .
    @prefix brick: <https://brickschema.org/schema/Brick#> .
    p:name a brick:VAV ;
      brick:hasPart p:fan, p:damper ;
      brick:hasPoint p:heating_signal, p:airflow, p:dat, p:zat .
  dependencies:
  - template: fan
    args: {"name": "fan"}
  - template: damper
    args: {"name": "damper"}
  - template: https://brickschema.org/schema/Brick#Supply_Air_Flow_Sensor 
    library: https://brickschema.org/schema/1.3/Brick
    args: {"name": "airflow"}
  - template: https://brickschema.org/schema/Brick#Discharge_Air_Temperature_Sensor 
    library: https://brickschema.org/schema/1.3/Brick
    args: {"name": "dat"}
  - template: https://brickschema.org/schema/Brick#Zone_Air_Temperature_Sensor 
    library: https://brickschema.org/schema/1.3/Brick
    args: {"name": "zat"}

# TODO: can I "compose" templates, for instance to require
# that the frequency command point has an external reference?
# I don't want to have to duplicate a template for each point as a result
# Much easier to just "join" my template w/ another. Kind of like a mix-in?
fan:
  body: >
    @prefix p: <urn:___param___#> .
    @prefix brick: <https://brickschema.org/schema/Brick#> .
    p:name a brick:Fan ;
       brick:hasPoint p:speed, p:start_stop, p:status .
  dependencies:
    - template: https://brickschema.org/schema/Brick#Frequency_Command
      library: https://brickschema.org/schema/1.3/Brick
      args: {"name": "speed"}
    - template: https://brickschema.org/schema/Brick#Start_Stop_Command
      library: https://brickschema.org/schema/1.3/Brick
      args: {"name": "start_stop"}
    - template: https://brickschema.org/schema/Brick#Fan_Status
      library: https://brickschema.org/schema/1.3/Brick
      args: {"name": "status"}
