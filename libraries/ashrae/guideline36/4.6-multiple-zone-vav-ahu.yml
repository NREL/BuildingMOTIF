multiple-zone-ahu:
  body: >
    @prefix p: <urn:___param___#> .
    @prefix brick: <https://brickschema.org/schema/Brick#> .
    @prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
    p:name a brick:AHU ;
      brick:hasPart
        ( p:supply-fan
          brick:hasPoint p:supply-fan-reset ),
        p:filter,
        ( p:htg-coil
          brick:hasPoint p:htg-coil-sa-temp ),
        (_:economizer rdf:type rdf:Alt
          rdf:_1
            p:economizer-damper
          rdf:_2
            p:economizer-minimum-oa-damper
              brick:hasPoint p:economizer-minimum-oa-damper-flow
          rdf:_3
            p:economizer-damper
            p:minimum-oa-damper
              brick:hasPoint p:minimum-oa-damper-pressure
          rdf:_4
            p:economizer-damper
            p:minimum-oa-damper-afms
              brick:hasPoint p:minimum-oa-damper-afms-flow ),
        p:return-damper,
        p:clg-coil,
        (_:relief rdf:type rdf:Alt
          rdf:_1
            p:relief-damper
              brick:hasPoint p:bldg-static-pressure
          rdf:_2
            p:relief-fan
            p:relief-fan-damper
              brick:hasPoint p:bldg-static-pressure ),
        ( p:return-fan
            brick:hasPoint
              p:return-fan-reset
              p:return-fan-sa-flow
              p:return-fan-ra-flow
              p:return-fan-pressure
              p:bldg-static-pressure
          p:return-fan-exhaust-damper ) ;
      brick:hasPoint
        p:sa-temp,
        p:duct-static-pressure,
        p:oa-temp,
        p:ma-temp,
        p:ra-temp .
  optional: [
    'supply-fan-reset',
    'htg-coil',
    'relief-damper', 'relief-fan', 'relief-fan-damper',
    'return-fan', 'return-fan-exhaust-damper',
    'ma-temp',
    'ra-temp']
  dependencies:
    - template: variable-speed-fan-vfd
      args: {"name": "supply-fan"}
    - template: https://brickschema.org/schema/Brick#Reset_Command
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "supply-fan-reset"}
    - template: filter
      args: {"name": "filter"}
    - template: heating-coil
      args: {"name": "htg-coil"}
    - template: https://brickschema.org/schema/Brick#Supply_Air_Temperature_Sensor
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "htg-coil-sa-temp"}
    - template: damper-modulating
      args: {"name": "economizer-damper"}
    - template: damper-modulating
      args: {"name": "economizer-minimum-oa-damper"}
    - template: https://brickschema.org/schema/Brick#Outside_Air_Flow_Sensor
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "economizer-minimum-oa-damper-flow"}
    - template: damper-two-position
      args: {"name": "minimum-oa-damper"}
    - template: https://brickschema.org/schema/Brick#Air_Differential_Pressure_Sensor
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "minimum-oa-damper-pressure"}
    - template: damper-modulating
      args: {"name": "minimum-oa-damper-afms"}
    - template: https://brickschema.org/schema/Brick#Outside_Air_Flow_Sensor
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "minimum-oa-damper-afms-flow"}
    - template: damper-modulating
      args: {"name": "return-damper"}
    - template: cooling-coil
      args: {"name": "clg-coil"}
    - template: damper-modulating
      args: {"name": "relief-damper"}
    - template: https://brickschema.org/schema/Brick#Air_Differential_Pressure_Sensor
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "bldg-static-pressure"}
    - template: variable-speed-fan-vfd
      args: {"name": "relief-fan"}
    - template: damper-two-position
      args: {"name": "relief-fan-damper"}
    - template: variable-speed-fan-vfd
      args: {"name": "return-fan"}
    - template: https://brickschema.org/schema/Brick#Reset_Command
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "return-fan-reset"}
    - template: https://brickschema.org/schema/Brick#Supply_Air_Flow_Sensor
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "return-fan-sa-flow"}
    - template: https://brickschema.org/schema/Brick#Return_Air_Flow_Sensor
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "return-fan-ra-flow"}
    - template: https://brickschema.org/schema/Brick#Discharge_Air_Static_Pressure_Sensor
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "return-fan-pressure"}
    # bldg-static-pressure see above
    - template: damper-modulating
      args: {"name": "return-fan-exhaust-damper"}
    - template: https://brickschema.org/schema/Brick#Supply_Air_Temperature_Sensor
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "sa-temp"}
    - template: https://brickschema.org/schema/Brick#Outside_Air_Temperature_Sensor
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "oa-temp"}
    - template: https://brickschema.org/schema/Brick#Mixed_Air_Temperature_Sensor
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "ma-temp"}
    - template: https://brickschema.org/schema/Brick#Return_Air_Temperature_Sensor
      library: https://brickschema.org/schema/1.4/Brick
      args: {"name": "ra-temp"}
