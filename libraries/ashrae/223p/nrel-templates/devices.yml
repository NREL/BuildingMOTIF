damper:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .

    P:name a s223:Damper ;
      s223:actuatedByProperty P:command ;
      s223:hasProperty P:command, P:feedback ;
      s223:contains P:feedback-sensor ;
      s223:hasConnectionPoint P:in, P:out .
  dependencies:
    - template: air-inlet-cp
      args: {"name": "in"}
    - template: air-outlet-cp
      args: {"name": "out"}
    - template: damper-command
      args: {"name": "command"}
    - template: damper-feedback
      args: {"name": "feedback"}
    - template: sensor
      args: {"name": "feedback-sensor", "property": "feedback", "where": "name"}

#Selam
vlv-dmp:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:Valve ;
      s223:actuatedByProperty P:command ;
      s223:hasConnectionPoint P:in, P:out ;
      #s223:hasMedium s223:Fluid-Air ;
      s223:contains P:feedback-sensor ;
      s223:hasProperty P:command, P:feedback .
  dependencies:
    - template: air-inlet-cp
      args: {"name": "in"}
    - template: air-outlet-cp
      args: {"name": "out"}
    - template: start-command
      args: {"name": "command"}
    - template: run-status
      args: {"name": "feedback"}
    - template: sensor
      args: {"name": "feedback-sensor", "property": "feedback", "where": "name"}

fan:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:Fan ;
      s223:actuatedByProperty P:start-cmd, P:vfd-spd ;
      s223:hasProperty P:start-cmd, P:motor-status, P:oa-flow-switch, P:vfd-cur, P:vfd-energy, P:vfd-volt, P:vfd-frq, P:vfd-flt, P:vfd-pwr, P:vfd-spd, P:vfd-fb ;
      s223:contains P:motor-status-sensor, P:oa-flow-switch-sensor, P:vfd-cur-sensor, P:vfd-energy-sensor, P:vfd-volt-sensor, P:vfd-frq-sensor, P:vfd-flt-sensor, P:vfd-pwr-sensor, P:vfd-fb-sensor ;
      s223:hasConnectionPoint P:in, P:out .
  dependencies:
    - template: air-inlet-cp
      args: {"name": "in"}
    - template: air-outlet-cp
      args: {"name": "out"}
    - template: start-command
      args: {"name": "start-cmd"}
    - template: run-status
      args: {"name": "motor-status"}
    - template: sensor
      args: {"name": "motor-status-sensor", "property": "motor-status", "where": "name"}
    - template: flow-status
      args: {"name": "oa-flow-switch"}
    - template: sensor
      args: {"name": "oa-flow-switch-sensor", "property": "oa-flow-switch", "where": "out"}
    - template: vfd-current
      args: {"name": "vfd-cur"}
    - template: sensor
      args: {"name": "vfd-cur-sensor", "property": "vfd-cur", "where": "name"}
    - template: vfd-energy
      args: {"name": "vfd-energy"}
    - template: sensor
      args: {"name": "vfd-energy-sensor", "property": "vfd-energy", "where": "name"}
    - template: vfd-voltage
      args: {"name": "vfd-volt"}
    - template: sensor
      args: {"name": "vfd-volt-sensor", "property": "vfd-volt", "where": "name"}
    - template: vfd-frequency
      args: {"name": "vfd-frq"}
    - template: sensor
      args: {"name": "vfd-frq-sensor", "property": "vfd-frq", "where": "name"}
    - template: vfd-fault
      args: {"name": "vfd-flt"}
    - template: sensor
      args: {"name": "vfd-flt-sensor", "property": "vfd-flt", "where": "name"}
    - template: vfd-power
      args: {"name": "vfd-pwr"}
    - template: sensor
      args: {"name": "vfd-pwr-sensor", "property": "vfd-pwr", "where": "name"}
    - template: vfd-speed
      args: {"name": "vfd-spd"}
    - template: vfd-feedback
      args: {"name": "vfd-fb"}
    - template: sensor
      args: {"name": "vfd-fb-sensor", "property": "vfd-fb", "where": "name"}

filter:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:Filter ;
      s223:hasProperty P:differential-pressure ;
      s223:contains P:differential-pressure-sensor ;
      s223:hasConnectionPoint P:in, P:out .
  dependencies:
    - template: air-inlet-cp
      args: {"name": "in"}
    - template: air-outlet-cp
      args: {"name": "out"}
    - template: differential-pressure
      args: {"name": "differential-pressure"}
    - template: differential-sensor
      args: {"name": "differential-pressure-sensor", "property": "differential-pressure", "whereA": "in", "whereB": "out"}

heat-recovery-coil:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix quantitykind: <http://qudt.org/vocab/quantitykind/> .
    @prefix qudt: <http://qudt.org/schema/qudt/> .
    @prefix unit: <http://qudt.org/vocab/unit/> .
    @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    s223:HeatRecoveryCoil rdfs:subClassOf s223:Coil .
    P:name a s223:HeatRecoveryCoil ;
      s223:hasProperty P:entering-air-temp, P:leaving-air-temp, P:supply-water-temp, P:return-water-temp ;
      s223:contains P:entering-air-temp-sensor, P:leaving-air-temp-sensor, P:supply-water-temp-sensor, P:return-water-temp-sensor ;
      s223:hasConnectionPoint P:air-in, P:air-out, P:water-in, P:water-out .
  dependencies:
    - template: air-inlet-cp
      args: {"name": "air-in"}
    - template: air-outlet-cp
      args: {"name": "air-out"}
    - template: water-inlet-cp
      args: {"name": "water-in"}
    - template: water-outlet-cp
      args: {"name": "water-out"}
    - template: air-temperature
      args: {"name": "leaving-air-temp"}
    - template: sensor
      args: {"name": "leaving-air-temp-sensor", "property": "leaving-air-temp", "where": "air-out"}
    - template: air-temperature
      args: {"name": "entering-air-temp"}
    - template: sensor
      args: {"name": "entering-air-temp-sensor", "property": "entering-air-temp", "where": "air-in"}
    - template: water-temperature
      args: {"name": "supply-water-temp"}
    - template: sensor
      args: {"name": "supply-water-temp-sensor", "property": "supply-water-temp", "where": "water-in"}
    - template: water-temperature
      args: {"name": "return-water-temp"}
    - template: sensor
      args: {"name": "return-water-temp-sensor", "property": "return-water-temp", "where": "water-out"}

chilled-water-coil:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:CoolingCoil ;
      s223:cnx P:air-in, P:air-out, P:water-in, P:water-out ;
      s223:contains P:pump, P:valve, P:entering-air-temp-sensor, P:leaving-air-temp-sensor, P:supply-water-temp-sensor, P:return-water-temp-sensor, P:leaving-air-wetbulb-temp-sensor ;
      s223:hasProperty P:entering-air-temp, P:leaving-air-temp, P:supply-water-temp,
                       P:return-water-temp, P:leaving-air-wetbulb-temp .
  dependencies:
    - template: chw-pump
      args: {"name": "pump"}
    - template: chw-valve
      args: {"name": "valve"}
    - template: air-inlet-cp
      args: {"name": "air-in"}
    - template: air-outlet-cp
      args: {"name": "air-out"}
    - template: water-inlet-cp
      args: {"name": "water-in"}
    - template: water-outlet-cp
      args: {"name": "water-out"}
    - template: air-temperature
      args: {"name": "leaving-air-temp"}
    - template: sensor
      args: {"name": "leaving-air-temp-sensor", "property": "leaving-air-temp", "where": "air-out"}
    - template: air-temperature
      args: {"name": "entering-air-temp"}
    - template: sensor
      args: {"name": "entering-air-temp-sensor", "property": "entering-air-temp", "where": "air-in"}
    - template: water-temperature
      args: {"name": "supply-water-temp"}
    - template: sensor
      args: {"name": "supply-water-temp-sensor", "property": "supply-water-temp", "where": "water-in"}
    - template: water-temperature
      args: {"name": "return-water-temp"}
    - template: sensor
      args: {"name": "return-water-temp-sensor", "property": "return-water-temp", "where": "water-out"}
    - template: air-temperature
      args: {"name": "leaving-air-wetbulb-temp"} # TODO: different template?
    - template: sensor
      args: {"name": "leaving-air-wetbulb-temp-sensor", "property": "leaving-air-wetbulb-temp", "where": "air-out"}

hot-water-coil:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:HeatingCoil ;
      s223:hasConnectionPoint P:air-in, P:air-out, P:water-in, P:water-out ;
      s223:contains P:valve, P:supply-water-temp-sensor, P:return-water-temp-sensor ;
      s223:hasProperty P:supply-water-temp, P:return-water-temp .
  dependencies:
    - template: hw-valve
      args: {"name": "valve"}
    - template: air-inlet-cp
      args: {"name": "air-in"}
    - template: air-outlet-cp
      args: {"name": "air-out"}
    - template: water-inlet-cp
      args: {"name": "water-in"}
    - template: water-outlet-cp
      args: {"name": "water-out"}
    - template: water-temperature
      args: {"name": "supply-water-temp"}
    - template: water-temperature
      args: {"name": "return-water-temp"}
    - template: sensor
      args: {"name": "supply-water-temp-sensor", "property": "supply-water-temp", "where": "water-in"}
    - template: sensor
      args: {"name": "return-water-temp-sensor", "property": "return-water-temp", "where": "water-out"}

chw-pump:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:Pump ;
      s223:actuatedByProperty P:onoff-cmd, P:vfd-spd ;
      s223:hasConnectionPoint P:in, P:out ;
      #s223:hasMedium s223:Water-ChilledWater ;
      s223:contains P:onoff-sts-sensor, P:vfd-cur-sensor, P:vfd-energy-sensor, P:vfd-volt-sensor, P:vfd-frq-sensor, P:vfd-flt-sensor, P:vfd-pwr-sensor, P:vfd-fb-sensor ;
      s223:hasProperty P:onoff-cmd, P:onoff-sts, P:vfd-cur,
                       P:vfd-energy, P:vfd-volt, P:vfd-frq, P:vfd-flt,
                       P:vfd-pwr, P:vfd-spd, P:vfd-fb .

  optional: ["vfd-volt", "vfd-frq", "vfd-flt", "vfd-pwr", "vfd-spd", "vfd-fb", "vfd-volt-sensor", "vfd-frq-sensor", "vfd-flt-sensor", "vfd-pwr-sensor", "vfd-fb-sensor"]
  dependencies:
    - template: start-command
      args: {"name": "onoff-cmd"}
    - template: run-status
      args: {"name": "onoff-sts"}
    - template: sensor
      args: {"name": "onoff-sts-sensor", "property": "onoff-sts", "where": "name"}
    - template: water-inlet-cp
      args: {"name": "in"}
    - template: water-outlet-cp
      args: {"name": "out"}
    - template: vfd-current
      args: {"name": "vfd-cur"}
    - template: sensor
      args: {"name": "vfd-current-sensor", "property": "vfd-cur", "where": "name"}
    - template: vfd-energy
      args: {"name": "vfd-energy"}
    - template: sensor
      args: {"name": "vfd-energy-sensor", "property": "vfd-energy", "where": "name"}
    - template: vfd-voltage
      args: {"name": "vfd-volt"}
    - template: sensor
      args: {"name": "vfd-volt-sensor", "property": "vfd-volt", "where": "name"}
    - template: vfd-frequency
      args: {"name": "vfd-frq"}
    - template: sensor
      args: {"name": "vfd-frq-sensor", "property": "vfd-frq", "where": "name"}
    - template: vfd-fault
      args: {"name": "vfd-flt"}
    - template: sensor
      args: {"name": "vfd-flt-sensor", "property": "vfd-flt", "where": "name"}
    - template: vfd-power
      args: {"name": "vfd-pwr"}
    - template: sensor
      args: {"name": "vfd-pwr-sensor", "property": "vfd-pwr", "where": "name"}
    - template: vfd-speed
      args: {"name": "vfd-spd"}
    - template: vfd-feedback
      args: {"name": "vfd-fb"}
    - template: sensor
      args: {"name": "vfd-fb-sensor", "property": "vfd-fb", "where": "name"}


hw-pump:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:Pump ;
      s223:actuatedByProperty P:onoff-cmd, P:vfd-spd ;
      s223:hasConnectionPoint P:in, P:out ;
      #s223:hasMedium s223:Water-HotWater ;
      s223:contains P:onoff-sts-sensor, P:vfd-cur-sensor, P:vfd-energy-sensor, P:vfd-volt-sensor, P:vfd-frq-sensor, P:vfd-flt-sensor, P:vfd-pwr-sensor, P:vfd-fb-sensor ;
      s223:hasProperty P:onoff-cmd, P:onoff-sts, P:vfd-cur, P:vfd-energy, P:vfd-volt, P:vfd-frq, P:vfd-flt, P:vfd-pwr, P:vfd-spd, P:vfd-fb .
  optional: ["vfd-volt", "vfd-frq", "vfd-flt", "vfd-pwr", "vfd-spd", "vfd-fb", "vfd-volt-sensor", "vfd-frq-sensor", "vfd-flt-sensor", "vfd-pwr-sensor", "vfd-fb-sensor"]
  dependencies:
    - template: start-command
      args: {"name": "onoff-cmd"}
    - template: run-status
      args: {"name": "onoff-sts"}
    - template: sensor
      args: {"name": "onoff-sts-sensor", "property": "onoff-sts", "where": "name"}
    - template: water-inlet-cp
      args: {"name": "in"}
    - template: water-outlet-cp
      args: {"name": "out"}
    - template: vfd-current
      args: {"name": "vfd-cur"}
    - template: sensor
      args: {"name": "vfd-cur-sensor", "property": "vfd-cur", "where": "name"}
    - template: vfd-energy
      args: {"name": "vfd-energy"}
    - template: sensor
      args: {"name": "vfd-energy-sensor", "property": "vfd-energy", "where": "name"}
    - template: vfd-voltage
      args: {"name": "vfd-volt"}
    - template: sensor
      args: {"name": "vfd-volt-sensor", "property": "vfd-volt", "where": "name"}
    - template: vfd-frequency
      args: {"name": "vfd-frq"}
    - template: sensor
      args: {"name": "vfd-frq-sensor", "property": "vfd-frq", "where": "name"}
    - template: vfd-fault
      args: {"name": "vfd-flt"}
    - template: sensor
      args: {"name": "vfd-flt-sensor", "property": "vfd-flt", "where": "name"}
    - template: vfd-power
      args: {"name": "vfd-pwr"}
    - template: sensor
      args: {"name": "vfd-pwr-sensor", "property": "vfd-pwr", "where": "name"}
    - template: vfd-speed
      args: {"name": "vfd-spd"}
    - template: vfd-feedback
      args: {"name": "vfd-fb"}
    - template: sensor
      args: {"name": "vfd-fb-sensor", "property": "vfd-fb", "where": "name"}

HR-pump:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:Pump ;
      s223:actuatedByProperty P:onoff-cmd, P:vfd-spd ;
      s223:hasConnectionPoint P:in, P:out ;
      #s223:hasMedium s223:Water ;
      s223:contains P:onoff-sts-sensor, P:vfd-cur-sensor, P:vfd-energy-sensor, P:vfd-volt-sensor, P:vfd-frq-sensor, P:vfd-flt-sensor, P:vfd-pwr-sensor, P:vfd-fb-sensor ;
      s223:hasProperty P:onoff-cmd, P:onoff-sts, P:vfd-cur, P:vfd-energy, P:vfd-volt, P:vfd-frq, P:vfd-flt, P:vfd-pwr, P:vfd-spd, P:vfd-fb .
  optional: ["vfd-volt", "vfd-frq", "vfd-flt", "vfd-pwr", "vfd-spd", "vfd-fb", "vfd-volt-sensor", "vfd-frq-sensor", "vfd-flt-sensor", "vfd-pwr-sensor", "vfd-fb-sensor"]
  dependencies:
    - template: start-command
      args: {"name": "onoff-cmd"}
    - template: run-status
      args: {"name": "onoff-sts"}
    - template: sensor
      args: {"name": "onoff-sts-sensor", "property": "onoff-sts", "where": "name"}
    - template: water-inlet-cp
      args: {"name": "in"}
    - template: water-outlet-cp
      args: {"name": "out"}
    - template: vfd-current
      args: {"name": "vfd-cur"}
    - template: sensor
      args: {"name": "vfd-cur-sensor", "property": "vfd-cur", "where": "name"}
    - template: vfd-energy
      args: {"name": "vfd-energy"}
    - template: sensor
      args: {"name": "vfd-energy-sensor", "property": "vfd-energy", "where": "name"}
    - template: vfd-voltage
      args: {"name": "vfd-volt"}
    - template: sensor
      args: {"name": "vfd-volt-sensor", "property": "vfd-volt", "where": "name"}
    - template: vfd-frequency
      args: {"name": "vfd-frq"}
    - template: sensor
      args: {"name": "vfd-frq-sensor", "property": "vfd-frq", "where": "name"}
    - template: vfd-fault
      args: {"name": "vfd-flt"}
    - template: sensor
      args: {"name": "vfd-flt-sensor", "property": "vfd-flt", "where": "name"}
    - template: vfd-power
      args: {"name": "vfd-pwr"}
    - template: sensor
      args: {"name": "vfd-pwr-sensor", "property": "vfd-pwr", "where": "name"}
    - template: vfd-speed
      args: {"name": "vfd-spd"}
    - template: vfd-feedback
      args: {"name": "vfd-fb"}
    - template: sensor
      args: {"name": "vfd-fb-sensor", "property": "vfd-fb", "where": "name"}

chw-valve:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:Valve ;
      s223:hasConnectionPoint P:in, P:out ;
      #      s223:hasMedium s223:Water-ChilledWater ;
      s223:actuatedByProperty P:command ;
      s223:contains P:feedback-sensor ;
      s223:hasProperty P:command, P:feedback .
  dependencies:
    - template: water-inlet-cp
      args: {"name": "in"}
    - template: water-outlet-cp
      args: {"name": "out"}
    - template: start-command
      args: {"name": "command"}
    - template: run-status
      args: {"name": "feedback"}
    - template: sensor
      args: {"name": "feedback-sensor", "property": "feedback", "where": "name"}

hw-valve:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:Valve ;
      s223:hasConnectionPoint P:in, P:out ;
      #s223:hasMedium s223:Water-HotWater ;
      s223:actuatedByProperty P:command ;
      s223:contains P:feedback-sensor ;
      s223:hasProperty P:command, P:feedback .
  dependencies:
    - template: water-inlet-cp
      args: {"name": "in"}
    - template: water-outlet-cp
      args: {"name": "out"}
    - template: start-command
      args: {"name": "command"}
    - template: run-status
      args: {"name": "feedback"}
    - template: sensor
      args: {"name": "feedback-sensor", "property": "feedback", "where": "name"}

belimo-energy-valve:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:Valve ;
      s223:contains P:flow-sensor ;
      s223:hasProperty P:flow ;
      s223:hasConnectionPoint P:in, P:out .
  dependencies:
    - template: water-inlet-cp
      args: {"name": "in"}
    - template: water-outlet-cp
      args: {"name": "out"}
    - template: water-flow
      args: {"name": "flow"}
    - template: sensor
      args: {"name": "flow-sensor", "property": "flow", "where": "out"}

sensor:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:Sensor ;
      s223:hasObservationLocation P:where ;
      s223:observes P:property .
      #dependencies:
      #  - template: http://data.ashrae.org/standard223#Property
      #    library: http://data.ashrae.org/standard223/1.0/model/all
      #    args: {"name": "property"}
      #  - template: http://data.ashrae.org/standard223#Connectable
      #    library: http://data.ashrae.org/standard223/1.0/model/all
      #    args: {"name": "where"}
      #    #optional: ["where"]

differential-sensor:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:DifferentialSensor ;
      s223:hasObservationLocationHigh P:whereA ;
      s223:hasObservationLocationLow P:whereB ;
      s223:observes P:property .
  optional: ["whereA", "whereB"]

evaporative-cooler:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:Equipment ;
      s223:hasRole s223:Role-Evaporator ;
      s223:hasConnectionPoint P:in, P:out, P:water-in, P:water-out ;
      s223:hasProperty P:entering-air-temp, P:leaving-air-temp, P:leaving-air-humidity ;
      s223:contains P:evap-cool-pump-2stage, P:evap-cool-sump-tank, P:evap-cool-fill-valve, P:entering-air-temp-sensor, P:leaving-air-temp-sensor, P:leaving-air-humidity-sensor .
    P:in s223:hasProperty P:entering-air-temp .
    P:out s223:hasProperty P:leaving-air-temp, P:leaving-air-humidity .
  dependencies:
    - template: air-inlet-cp
      args: {"name": "in"}
    - template: air-outlet-cp
      args: {"name": "out"}
    - template: water-outlet-cp
      args: {"name": "water-in"}
    - template: water-inlet-cp
      args: {"name": "water-out"}
    - template: air-temperature
      args: {"name": "entering-air-temp"}
    - template: sensor
      args: {"name": "entering-air-temp-sensor", "property": "entering-air-temp", "where": "in"}
    - template: air-temperature
      args: {"name": "leaving-air-temp"}
    - template: sensor
      args: {"name": "leaving-air-temp-sensor", "property": "leaving-air-temp", "where": "out"}
    - template: relative-humidity
      args: {"name": "leaving-air-humidity"}
    - template: sensor
      args: {"name": "leaving-air-humidity-sensor", "property": "leaving-air-humidity", "where": "out"}
    - template: chw-pump
      args: {"name": "evap-cool-pump-2stage"}
    - template: chw-valve
      args: {"name": "evap-cool-fill-valve"}
    - template: tank
      args: {"name": "evap-cool-sump-tank"}

tank:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
    P:name a s223:Equipment ;
      rdfs:label "Tank" .
    # TODO: high-level and low-level statuses

heat-exchanger:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
    P:name a s223:HeatExchanger ;
      s223:contains P:chw-flow-sensor, P:A-chw-diff-press-sensor,
                    P:B-chw-diff-press-sensor, P:chw-supply-temperature-sensor, P:chw-return-temperature-sensor ;
      s223:hasConnectionPoint P:A-in, P:A-out, P:B-in, P:B-out ;
      s223:hasProperty P:A-chw-diff-press, P:B-chw-diff-press,
                       P:chw-supply-temperature,
                       P:chw-return-temperature, P:chw-flow .
  dependencies:
    - template: water-outlet-cp
      args: {"name": "A-in"}
    - template: water-inlet-cp
      args: {"name": "A-out"}
    - template: water-outlet-cp
      args: {"name": "B-in"}
    - template: water-inlet-cp
      args: {"name": "B-out"}
    - template: differential-pressure
      args: {"name": "A-chw-diff-press"}
    - template: differential-pressure
      args: {"name": "B-chw-diff-press"}
    - template: water-temperature
      args: {"name": "chw-supply-temperature"}
    - template: sensor
      args: {"name": "chw-supply-temperature-sensor", "property": "chw-supply-temperature", "where": "B-in"}
    - template: water-temperature
      args: {"name": "chw-return-temperature"}
    - template: sensor
      args: {"name": "chw-return-temperature-sensor", "property": "chw-return-temperature", "where": "B-out"}
    - template: water-flow
      args: {"name": "chw-flow"}
    - template: differential-sensor
      args: {"name": "A-chw-diff-press-sensor", "property": "A-chw-diff-press", "whereA": "A-in", "whereB": "A-out"}
    - template: differential-sensor
      args: {"name": "B-chw-diff-press-sensor", "property": "B-chw-diff-press", "whereA": "B-in", "whereB": "B-out"}
    - template: sensor
      args: {"name": "chw-flow-sensor", "property": "chw-flow", "where": "B-out"}

fcu:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:FanCoilUnit ;
      s223:hasRole s223:Role-Cooling, s223:Role-Heating ;
      s223:contains P:fan, P:cooling-coil, P:heating-coil, P:cond-overflow-sensor, P:DA-temp-sensor, P:occ-override-sensor, P:zone-temp-sensor, P:zone-humidity-sensor ;
      s223:hasProperty P:cond-overflow, P:DA-temp, P:occ-override, P:zone-temp, P:zone-humidity ;
      s223:hasConnectionPoint P:in, P:out .
  dependencies:
    - template: chilled-water-coil
      args: {"name": "cooling-coil"}
    - template: hot-water-coil
      args: {"name": "heating-coil"}
    - template: fan
      args: {"name": "fan"}
    - template: condensate-overflow
      args: {"name": "cond-overflow"}
    - template: sensor
      args: {"name": "cond-overflow-sensor", "property": "cond-overflow", "where": "name"}
    - template: air-temperature
      args: {"name": "DA-temp"}
    - template: sensor
      args: {"name": "DA-temp-sensor", "property": "DA-temp", "where": "out"}
    - template: occupancy-override
      args: {"name": "occ-override"}
    - template: sensor
      args: {"name": "occ-override-sensor", "property": "occ-override", "where": "name"}
    - template: air-temperature
      args: {"name": "zone-temp"}
    - template: sensor
      args: {"name": "zone-temp-sensor", "property": "zone-temp", "where": "name"}
    - template: relative-humidity
      args: {"name": "zone-humidity"}
    - template: sensor
      args: {"name": "zone-humidity-sensor", "property": "zone-humidity", "where": "name"}
    - template: air-outlet-cp
      args: {"name": "out"}
    - template: air-inlet-cp
      args: {"name": "in"}

unit-heater:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
    P:name a s223:UnitHeater, s223:Equipment ;
      rdfs:label "Unit Heater" ;
      s223:contains P:fan, P:heating-coil ;
      s223:hasConnectionPoint P:in, P:out .
  dependencies:
    - template: hot-water-coil
      args: {"name": "heating-coil"}
    - template: fan
      args: {"name": "fan"}
    - template: air-outlet-cp
      args: {"name": "out"}
    - template: air-inlet-cp
      args: {"name": "in"}

domestic-water-heater:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    @prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
    P:name a s223:DomesticWaterHeater, s223:Equipment ;
      rdfs:label "domestic water heater" ;
      s223:contains P:dw-hwp, P:dw-hx ;
      s223:hasConnectionPoint P:in, P:out .
  dependencies:
    - template: heat-exchanger
      args: {"name": "dw-hx"}
    - template: hw-pump
      args: {"name": "dw-hwp"}
    - template: water-outlet-cp
      args: {"name": "out"}
    - template: water-inlet-cp
      args: {"name": "in"}


HRC-BTU-meter:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:ElectricMeter ;
      s223:contains P:HRW-energy-sensor, P:HRW-energy-rate-sensor, P:HRW-flow-sensor, P:HRW-vol-sensor, P:return-water-temp-sensor, P:supply-water-temp-sensor ;
      s223:hasProperty P:HRW-energy, P:HRW-energy-rate, P:HRW-flow, P:HRW-vol, P:return-water-temp, P:supply-water-temp .
  dependencies:
    - template: BTU-Meter-energy
      args: {"name": "HRW-energy"}
    - template: sensor
      args: {"name": "HRW-energy-sensor", "property": "HRW-energy", "where": "name"}
    - template: BTU-Meter-energy-rate
      args: {"name": "HRW-energy-rate"}
    - template: sensor
      args: {"name": "HRW-energy-rate-sensor", "property": "HRW-energy-rate", "where": "name"}
    - template: BTU-Meter-water-flow
      args: {"name": "HRW-flow"}
    - template: sensor
      args: {"name": "HRW-flow-sensor", "property": "HRW-flow", "where": "name"}
    - template: BTU-Meter-water-volume
      args: {"name": "HRW-vol"}
    - template: sensor
      args: {"name": "HRW-vol-sensor", "property": "HRW-vol", "where": "name"}
    - template: water-temperature
      args: {"name": "supply-water-temp"}
    - template: sensor
      args: {"name": "supply-water-temp-sensor", "property": "supply-water-temp", "where": "name"}
    - template: water-temperature
      args: {"name": "return-water-temp"}
    - template: sensor
      args: {"name": "return-water-temp-sensor", "property": "return-water-temp", "where": "name"}

hot-water-system-BTU-meter:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:ElectricMeter ;
      s223:contains P:HW-energy-sensor, P:HW-energy-rate-sensor, P:HW-flow-sensor, P:HW-vol-sensor, P:HWS-temp-sensor, P:HWR-temp-sensor ;
      s223:hasProperty P:HW-energy, P:HW-energy-rate, P:HW-flow, P:HW-vol, P:HWS-temp, P:HWR-temp .
  dependencies:
    - template: BTU-Meter-energy
      args: {"name": "HW-energy"}
    - template: sensor
      args: {"name": "HW-energy-sensor", "property": "HW-energy", "where": "name"}
    - template: BTU-Meter-energy-rate
      args: {"name": "HW-energy-rate"}
    - template: sensor
      args: {"name": "HW-energy-rate-sensor", "property": "HW-energy-rate", "where": "name"}
    - template: BTU-Meter-water-flow
      args: {"name": "HW-flow"}
    - template: sensor
      args: {"name": "HW-flow-sensor", "property": "HW-flow", "where": "name"}
    - template: BTU-Meter-water-volume
      args: {"name": "HW-vol"}
    - template: sensor
      args: {"name": "HW-vol-sensor", "property": "HW-vol", "where": "name"}
    - template: water-temperature
      args: {"name": "HWS-temp"}
    - template: sensor
      args: {"name": "HWS-temp-sensor", "property": "HWS-temp", "where": "name"}
    - template: water-temperature
      args: {"name": "HWR-temp"}
    - template: sensor
      args: {"name": "HWR-temp-sensor", "property": "HWR-temp", "where": "name"}

chilled-water-system-BTU-meter:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:ElectricMeter ;
      s223:contains P:CHW-energy-sensor, P:CHW-energy-rate-sensor, P:CHW-flow-sensor, P:CHW-vol-sensor, P:CHWS-temp-sensor, P:CHWR-temp-sensor ;
      s223:hasProperty P:CHW-energy, P:CHW-energy-rate, P:CHW-flow, P:CHW-vol, P:CHWS-temp, P:CHWR-temp .
  dependencies:
    - template: BTU-Meter-energy
      args: {"name": "CHW-energy"}
    - template: sensor
      args: {"name": "CHW-energy-sensor", "property": "CHW-energy", "where": "name"}
    - template: BTU-Meter-energy-rate
      args: {"name": "CHW-energy-rate"}
    - template: sensor
      args: {"name": "CHW-energy-rate-sensor", "property": "CHW-energy-rate", "where": "name"}
    - template: BTU-Meter-water-flow
      args: {"name": "CHW-flow"}
    - template: sensor
      args: {"name": "CHW-flow-sensor", "property": "CHW-flow", "where": "name"}
    - template: BTU-Meter-water-volume
      args: {"name": "CHW-vol"}
    - template: sensor
      args: {"name": "CHW-vol-sensor", "property": "CHW-vol", "where": "name"}
    - template: water-temperature
      args: {"name": "CHWS-temp"}
    - template: sensor
      args: {"name": "CHWS-temp-sensor", "property": "CHWS-temp", "where": "name"}
    - template: water-temperature
      args: {"name": "CHWR-temp"}
    - template: sensor
      args: {"name": "CHWR-temp-sensor", "property": "CHWR-temp", "where": "name"}


exhaust-fan:
  body: >
    @prefix P: <urn:___param___#> .
    @prefix s223: <http://data.ashrae.org/standard223#> .
    P:name a s223:Fan ;
      s223:actuatedByProperty P:start-cmd, P:vfd-spd ;
      s223:contains P:iso-dmp, P:low-sp-sensor, P:motor-status-sensor, P:vfd-cur-sensor, P:vfd-energy-sensor, P:vfd-volt-sensor, P:vfd-frq-sensor, P:vfd-flt-sensor, P:vfd-pwr-sensor, P:vfd-fb-sensor ;
      s223:hasProperty P:start-cmd, P:motor-status, P:low-sp, P:vfd-cur, P:vfd-energy, P:vfd-volt, P:vfd-frq, P:vfd-flt, P:vfd-pwr, P:vfd-spd, P:vfd-fb ;
      s223:hasConnectionPoint P:in, P:out .
  dependencies:
    - template: air-inlet-cp
      args: {"name": "in"}
    - template: air-outlet-cp
      args: {"name": "out"}
    - template: start-command
      args: {"name": "start-cmd"}
    - template: run-status
      args: {"name": "motor-status"}
    - template: sensor
      args: {"name": "motor-status-sensor", "property": "motor-status", "where": "name"}
    - template: low-static-pressure
      args: {"name": "low-sp"}
    - template: sensor
      args: {"name": "low-sp-sensor", "property": "low-sp", "where": "out"}
    - template: vfd-current
      args: {"name": "vfd-cur"}
    - template: sensor
      args: {"name": "vfd-cur-sensor", "property": "vfd-cur", "where": "name"}
    - template: vfd-energy
      args: {"name": "vfd-energy"}
    - template: sensor
      args: {"name": "vfd-energy-sensor", "property": "vfd-energy", "where": "name"}
    - template: vfd-voltage
      args: {"name": "vfd-volt"}
    - template: sensor
      args: {"name": "vfd-volt-sensor", "property": "vfd-volt", "where": "name"}
    - template: vfd-frequency
      args: {"name": "vfd-frq"}
    - template: sensor
      args: {"name": "vfd-frq-sensor", "property": "vfd-frq", "where": "name"}
    - template: vfd-fault
      args: {"name": "vfd-flt"}
    - template: sensor
      args: {"name": "vfd-flt-sensor", "property": "vfd-flt", "where": "name"}
    - template: vfd-power
      args: {"name": "vfd-pwr"}
    - template: sensor
      args: {"name": "vfd-pwr-sensor", "property": "vfd-pwr", "where": "name"}
    - template: vfd-speed
      args: {"name": "vfd-spd"}
    - template: vfd-feedback
      args: {"name": "vfd-fb"}
    - template: sensor
      args: {"name": "vfd-fb-sensor", "property": "vfd-fb", "where": "name"}
    - template: damper
      args: {"name": "iso-dmp"}
